# Team Name: 
___Greek 4 Life___

# Team Members: 
___Allston Fojas, Mark Tupas, Raul Garza, Cole Richmond___

# Target Population Utility:

These days, beatmatching is considered basic among DJs in electronic dance music genres, and it is standard practice in clubs to keep the constant beat throughout the night, even if DJs change in the middle of a playlist. Two of the key characteristics to consider when beatmatching are the tempo of both songs and the musical theory behind the songs. The motivation for the user to use our app is that attempting to beatmatch songs with completely different beats per minute (BPM) will result in one of the songs sounding too fast or too slow, which will disrupt the natural flow of the playlist and make people upset. As a DJ using our application with a song title or a BPM audio rate in mind, one can search for new songs of the same BPM to add to their arsenal of songs. Specifically, if a DJ clicks on the 'Search by BPM' button, he or she can search by up to five genres and a particular BPM value to receive a list of song recommendations based on the given search parameters. Additionally, if a DJ clicks on the 'Search by Song' button, he or she can search by a certain song title to receive a list of song recommendations based on the genre and BPM of the given song. The use of our app prevents any sort of discrepancy when beatmatching and ensures that any song in the resulting list will be a good fit. Furthermore, the ability for a user to save songs in our application allows for continuous construction of their repertoire of songs. To access his or her library of saved songs, the user can click on the music library button on the top left of the home page or the top right of both search pages. On the saved music page, the user can play and remove any song and see important audio features, such as BPM, key, and energy, that a DJ would find useful in creating his or her next playlist. Therefore, the end result is once a DJ has built up a sufficient amount of audio, they can then begin building a synchronized, harmonic mix for their next gig! Our app satisfies a DJ's need to curate a playlist based on certain genres and audio features.

# Screenshots:
### Screen 1 - Home Page (Index Page):

![Screenshot](/milestone5_pics/index.JPG)

From the last milestone, not much has changed in terms of affordances of the home page. Users are still able to look for song recommendations based on one of two criteria: beats per minute (BPM) or song title. Additionally, DJs still have the option to see their library of saved music, in case they navigate away from the application for some period of time or are looking to store a large number of songs. We have, however, altered the look and feel of the home page with the goal of making the music-finding experience even more intuitive for the user. The new color scheme is more appealing to the eye and helps guide the user's attention toward areas on the screen that are useful for them. For example, the buttons to go to either search page have been improved in that the buttons are the entire record disc as opposed to a rectangular button with only part of the record disc, from the last milestone. In addition, the introduction text on the home page has been updated to be more prominent both in size and placement with some highlighted text to make the key words pop out to the user. Furthermore, the 'See Saved Music' button from last milestone has been changed to a music library icon/button in the top left corner of the home page, giving this button more of a visual cue as to its purpose.

### Screens 2 & 3 - Search by BPM/Song Title Page(s):

![Screenshot](/milestone5_pics/search_by_song.JPG)
![Screenshot](/milestone5_pics/search_by_bpm.JPG)

Since the last milestone, we made several changes to both search pages. Firstly, to keep our design consistent with the home page, we changed the color scheme and font type. Next, we changed the button layout for the "Play" and "Save Song" functions. Acting as more of visual cues for the user, the play arrow and the heart symbol allow the user to carry out the two aforementioned actions and provide the user with feedback in the form of either an audio track or a confirmation popup. These buttons also have a hover action where the word 'Play' is displayed when the user hovers over the play icon, and the word 'Save' is displayed when the user hovers over the heart icon. That way, the user knows each icon's purpose in case the user does not immediately understand each icon's purpose just by looking at the icons. Additionally, we changed the 'Go Back' button to read 'Go to Home Page' to make the button's purpose more clear and to fix an issue we ran into where the initial 'Go Back' functionality would go back only to just before logging in to the Spotify API (which is done in the backend), so it would look like the user stayed on the same page, but really the user did go back one page. Furthermore, we added the music library icon/button in the top right corner of each search page to allow the user to access his or her library of saved music without having to go back to the home page. In addition, the search parameters at the top of each search page were changed from a vertical layout (from the last milestone) to a horizontal layout to better utilize the space and have better design so that we have less whitespace. 

For the Search by Song Title page, we changed the way in which our search query returns matching audio. In the last milestone, the song that was searched for would (ideally) appear as the first result in your list of similar songs. However, we intended for the user to enter a song with the goal of receiving songs with similar BPMs in return. Therefore, we omitted the song that was searched for in our resulting list which gives the user 20 ***new*** songs instead of only 19 new songs, but we kept the song that was searched for directly below the search bar in case the user still wants to save that song. Along with the display of the searched song, we added some descriptive text to convey to the user the actions that just took place and a call-to-action for the user where the user can hover over a song's album art to see its audio features. Lastly, we thought that DJs would be interested in other audio features aside from BPM. So, we gave users the option to hover over a song's album art in their search results to see a song's key, energy, and danceability in addition to its BPM value. 

For the Search by BPM page, we changed the 'Current genres' display so that each selected genre is on its own line (vertical display for the selected genres), and each selected genre is smaller to better understand the hierarchy of the text and is pink to better highlight the selected genres. Similarly to the Search by Song Title page, we added some descriptive text to convey to the user the actions that just took place and a call-to-action for the user where the user can hover over a song's album art to see its audio features. Finally, we thought that DJs would be interested in other audio features aside from BPM. So, we gave users the option to hover over a song's album art in their search results to see a song's key, energy, and danceability in addition to its BPM value.

### Screen 4 - Saved Music Page:

![Screenshot](/milestone5_pics/saved_music.JPG)

The last milestone was the first version of our application that included the Saved Music page. The changes made to this page served the purpose of keeping the user interface consistent across all pages. Similar to the two aforementioned pages, the "Play Song" prompt has been replaced with the play arrow. Additionally, the columns have been reformatted to be in-line with the "Playback" function. Lastly, if a user no longer wants a song in their list of saved songs they can remove it by clicking on the marker to the left of the album cover. Additionally, the 'List of Saved Songs' title at the top of this page from last milestone was removed since, in context, the user knows that this page is the saved music page since he or she would have just clicked on the music library icon/button.

### Data Visualization

![Screenshot](/milestone5_pics/data_visualization.JPG)

To make queries to Spotify's API, we used the Express web server framework, "Request" library, and "Querystring" library for the server. For each page's JavaScript file, we used the Spotify API's authorization endpoint and added our Spotify developer account's client ID and respective redirect URI so that we could access the Spotify API and its various functions, such as getting a list of genres, play/pause songs, and displaying each song's audio features. When we query a track from Spotify's API using the 'Get Audio Features for a Track' endpoint and the track's ID, we receive an *audio features object* in JSON format for that track in return as our output. From this object, we selected four features that we deemed most important for DJs when deciding which tracks to include in a new mix. We selected the following audio features:

* `tempo`: the overall estimated tempo of a track in beats per minute (BPM). For our case, we called this feature BPM since BPM is a more technical term.
* `key`: the estimated overall key of the track. From the Spotify API, integers map to pitches using standard *Pitch Class* notation (e.g. 0 = C, 1 = C♯/D♭, 2 = D, etc.). If no key was detected, the value is -1.
* `energy`: a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy.
* `danceability`: a measure from 0.0 to 1.0 that describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable.

When the user hovers over a track, they will see the four features described above (this is also explained in the ***Screens 2 & 3*** section above).

# Ambitious Data Display

One idea that we came up with for an ambitious data display is to make the audio features for each recommended song appear in a modal, similar to the one that appears when selecting genres. Implementing this feature would improve the readability of the audio features and would normalize the user interface even further. Another idea for an ambitious data display is to have a chart/graph on the user's saved music page that would display a breakdown of the user's saved music by genre or each relevant audio feature (BPM, key, energy, or danceability). For example, the user could filter the chart/graph by genre to see which genre(s) that the user most frequently saves songs for (and therefore, the genre(s) that the user likes the most). This chart/graph idea would ultimately give the user a visual indicator for each metric (genre or a specific audio feature) to see their current music preferences and show how their music preferences change over time. Another idea that we came up with to improve the existing data visualization is to have the current hover action to see a song's audio features be located to the right of its respective play and heart icons. That way, we use more of the available space on the page and so that the user can still see the album art while also looking at the song's audio features.
